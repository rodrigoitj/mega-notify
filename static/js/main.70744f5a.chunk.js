(this["webpackJsonpmega-notify"]=this["webpackJsonpmega-notify"]||[]).push([[0],{123:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAE7UlEQVRYhc2YW2gcVRiAv3POzE7ul6Ztqk2hBpViaR9KUd/U6ktVROlLVVAUir54KUVUKCiIT4p4oRYURGl9lBK0D/ogCrUSrWi9QCWlpGlpmua22WyyOzvnIjPTJG1Mm2x3c/nZXWbOOfOfb///n/P/54iPb9rEI7WrCa19ca3KPNAgFYb4s/QicapknVfE/nrWhB+diwpDXt7ahvV+zedIbxfWgLUoxHLwJRJISaBqd26V/kMXdfiYequtc19HpvEFY0rgWEa0VBwQWo3n+ze3Cq9d3hU03YvTxGhymeEgNVCNEKAjVkmvUyIpOetQKwDu/+Ly0lj0crv1WuLAVuZVN/1znTHz9M8jXtlAvgIh0D1nsVE+WRxU0IDq7EjHRBpqA9zQKFH/haRJKh+vcyNkPAij5PnFAVQCchM4a/FeegrWt6fQP3YTdn1DsGkzZHzs+QHk9i1k9j4LnoLxPO5wFwxlEa2NYBZu1fIApcTm8jijUc89DrduTNv37Ca47xzhid8Itt1NNNpPsGUXvLIn7S+EiENd6KFhvLZmMAvPA2XGoEstErtobHymuaEOvv4C1dKO+bsHJeshl5/pH8mCtgjlzxuyFQJeIbPjaN0avEPvo6Mc2o6Cn7n22CUBnEse3kFw8F2KDIOKqqKycsBoFsie3TRvuwd38kTFSwxVAbQOPvwM/umZ1ii+OozYsROy4/M9vQSAQQa6j+OeeGambWMHvPky1NdWrL46Mbh1O2N//gTvfXJ1e8avWHV1AKWkhrUU9+2HL7uqonJadVW0lDSeasYP1qCf3gene6uilvIBBRibpqrGupnmhlqMmUDdfgvWlrAPPgn9gzP9TQ1poRdX7GUuiTeUSYTvQd9FGByGS8NJ1hAyAF0ic8dmij1/wKtvw4UBGByB3vMgBXjlx6TQt91/RCEeLTcHOWMRUuCStU4gPJkuOUomFrbDo4jGOkQmk1pdqdQcduHzOPiuvGIhltgSQuCGs9himDSpliZoaQSrQRvwPWRbC3pgCFHSiBof2b46fbYMQMquZpiygEO2t6UTxrfWQulynRd/45pQCLyO9vQ+tnJk0tgtMwbLB5wSPatkurIgmLqOZo8pf5qVsJGbU5LIlkKsSECbwsWXZkEutlOmlkuz/5NxLEifnsKInhfQ4FAyrqJlGuyLzphOcKowwu9hVl4TMHk5YzgVD1H0lsY4HU5Qo0S86i0aXnwulDOGUVuiSfr1cwLGYFJKlMiAizhWGOJMNEkQH48kW2m7aIAmgZRs8AP6tf7tKsAELIZIrCY4E45xMsxRcJp1MoMUAuMcooLV6XriLju4VkkumejoJVN6Y3qmNNYkxF7Xmu5whFOlCZqkxzoVUHDuJM79ICE+Bqu80JtDZJo064e1/mvQRp9KIYpeEmexWeMtIZK+cIxfCqOUHGzwapJ4y1p9YNBGr62Rfr5eqOTPLKaYxJOpRT0vya0exkR0h1n+LU3SKhXtKsOYMz+P2NI7wBF/CU8Or5zJE0LJi2Ge7wsjWOHY4AXxm2QHbHRw3JrXi9jx5vgPLM+pMN7xyaHCOV2gTirapEcR19Nrwr0T1hxtkT66ClvHigD7ojC3WmZQQnDeRAcmndkvhcjKG8vt1QdcJdWdRtA7bvXzfTr8tlV5K+q01Ztw9oOCc8cCZE8gFzNH3IAA/wHaHOgBiFSNZwAAAABJRU5ErkJggg=="},177:function(e,t,a){e.exports=a(321)},182:function(e,t,a){},185:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),i=a.n(o),m=(a(182),a(126)),s=a(52),u=a(123),l=a.n(u),h=a(324),c=a(174),p=a(326),d=a(327),g=a(51),f=a(328),v=a(329),E=a(331),w=a(332),b=a(330),O=a(325),S=a(333),A=a(334),y=a(335),k=a(336),C=a(337),I=a(338),M=a(339),j=a(143),D=a(40),N=a.n(D),U=(a(185),a(144)),H=a.n(U),P=a(145);function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=localStorage.getItem("config"),n=JSON.parse(a),r=(null===n||void 0===n?void 0:n.hasOwnProperty(e))?n[e]:t;return r}var R=a(148),Y=a(149),x={MEGADROP:"https://megamu.net/forum/showthread.php?tid=7446","Blood Castle":"https://megamu.net/forum/","Chaos Castle":"https://megamu.net/forum/","Devil Square":"https://megamu.net/forum/","Moss Merchant":"https://megamu.net/forum/showthread.php?tid=5190","Skeleton King":"https://megamu.net/forum/showthread.php?tid=1330","Red Dragon":"https://megamu.net/forum/showthread.php?tid=1326","White Wizard":"https://megamu.net/forum/showthread.php?tid=1327","Drag\xe3o Dourado":"https://megamu.net/forum/",Demons:"https://megamu.net/forum/showthread.php?tid=1341","Illusion 50-149rr":"https://megamu.net/forum/showthread.php?tid=9391","Illusion 150-200rr":"https://megamu.net/forum/showthread.php?tid=9391","Dimens. Mirror":"https://megamu.net/forum/showthread.php?tid=6226","Acheron Guardian":"https://megamu.net/forum/showthread.php?tid=7605&highlight=Acheron+Guardian","Egg Event":"https://megamu.net/forum/showthread.php?tid=1329","Tesouro Loren":"https://megamu.net/forum/showthread.php?tid=676","Tesouro Dung":"https://megamu.net/forum/showthread.php?tid=676","Ataque Zumbi":"https://megamu.net/forum/showthread.php?tid=719","Invoca\xe7\xe3o de Boss":"https://megamu.net/forum/showthread.php?tid=995","Regis. de Signs":"https://megamu.net/forum/","Castle Siege":"https://megamu.net/forum/showthread.php?tid=5113",Kundun:"https://megamu.net/forum/showthread.php?tid=1334",Erohim:"https://megamu.net/forum/showthread.php?tid=1333",Medusa:"https://megamu.net/forum/showthread.php?tid=1336",Crywolf:"https://megamu.net/forum/showthread.php?tid=2300","CTF Devias":"https://megamu.net/forum/showthread.php?tid=1272","CTF Elbeland":"https://megamu.net/forum/showthread.php?tid=1272","CTF Atlans":"https://megamu.net/forum/showthread.php?tid=1272","CTF Sv4":"https://megamu.net/forum/showthread.php?tid=1272","CTF Sv5":"https://megamu.net/forum/showthread.php?tid=1272","Quiz MEGAMU":"https://megamu.net/forum","Sanguin\xe1rio":"https://megamu.net/forum/showthread.php?tid=1781","Sanguin\xe1rio FULL":"https://megamu.net/forum/showthread.php?tid=1781","Sanguin\xe1rio Sv5":"https://megamu.net/forum/showthread.php?tid=1781","CP Devias":"https://megamu.net/forum/showthread.php?tid=2660","CP Elbeland":"https://megamu.net/forum/showthread.php?tid=2660","CP Atlans":"https://megamu.net/forum/showthread.php?tid=2660","CP Sv4":"https://megamu.net/forum/showthread.php?tid=2660","CP Sv5":"https://megamu.net/forum/showthread.php?tid=2660",Survives:"https://megamu.net/forum/showthread.php?tid=6423","Survive All":"https://megamu.net/forum/showthread.php?tid=6423","Golden Evolution":"https://megamu.net/forum/showthread.php?tid=5990","Dark Evolution":"https://megamu.net/forum/showthread.php?tid=5990","Uruk Attack":"https://megamu.net/forum/showthread.php?tid=5871","Chaos Invasion":"https://megamu.net/forum/showthread.php?tid=6170","Chickens Escape":"https://megamu.net/forum/showthread.php?tid=8073","Lost Horse":"https://megamu.net/forum/showthread.php?tid=8074","Battle Royale":"https://megamu.net/forum/showthread.php?tid=8369"},Q=h.a.Header,T=h.a.Content,W=h.a.Sider;var G=function(){var e=Object(n.useState)("MEGA Notify"),t=Object(s.a)(e,1)[0],a=Object(n.useState)([]),o=Object(s.a)(a,2),i=o[0],u=o[1],D=Object(n.useState)(!0),U=Object(s.a)(D,2),G=U[0],B=U[1],J=Object(n.useState)(!1),K=Object(s.a)(J,2),L=K[0],F=K[1],z=Object(n.useState)(V("timeOffset",90)),q=Object(s.a)(z,1)[0],Z=Object(n.useState)([]),X=Object(s.a)(Z,2),_=X[0],$=X[1],ee=Object(n.useRef)(null),te=function(){return e=ee,window.scrollTo(0,e.current.offsetTop);var e},ae=function(e,t,a){return function(t){var n=Object(m.a)(i);n[a][e]=t,se(n)}},ne=[{title:"Evento",dataIndex:"evento",onCell:function(){return{style:{whiteSpace:"nowrap",maxWidth:180}}},render:function(e,t){return x.hasOwnProperty(e)?r.a.createElement("a",{href:x[e],target:"_blank",rel:"noopener noreferrer"},e):e}},{title:"Hor\xe1rios",dataIndex:"horarios",render:function(e,t,a){return r.a.createElement("p",null,0===t.diasSemana.length&&e.map((function(e,t){return r.a.createElement(c.a,{color:"blue",key:"t".concat(e,"_").concat(t)},e)})),r.a.createElement("br",null),t.diasSemana&&t.diasSemana.map((function(t,a){return r.a.createElement(c.a,{color:"green",key:"s".concat(t,"_").concat(a)},["DOM","SEG","TER","QUA","QUI","SEX","SAB"][t-1]||""," ",e[a])})))}},{title:"Primeiro alerta (mm:ss)",dataIndex:"primeiro",render:function(e,t,a){return r.a.createElement(p.a,{defaultValue:e&&e.isValid()?e:null,value:e&&e.isValid()?e:null,format:"mm:ss",onChange:ae("primeiro",0,a),secondStep:10,style:{minWidth:90},disabled:L})}},{title:"Segundo alerta (mm:ss)",dataIndex:"segundo",render:function(e,t,a){return r.a.createElement(p.a,{defaultValue:e&&e.isValid()?e:null,value:e&&e.isValid()?e:null,format:"mm:ss",onChange:ae("segundo",0,a),secondStep:10,style:{minWidth:90},disabled:L})}}];function re(e,t,a){d.a[e]({message:t,description:a})}function oe(e){var t=function(){var e=localStorage.getItem("alerts");return e?JSON.parse(e):[]}();return e.map((function(e,a){var n=3===e.length?e[2]:e[1],r=3===e.length?e[1]:[],o=t.filter((function(t){return t.evento===e[0]})).shift();return{key:a.toString(),selected:!0,evento:e[0],horarios:n,diasSemana:r,primeiro:o&&void 0!==o.primeiro?N()(o.primeiro,"YYYY-MM-DDTHH:mm:ssZ"):N()("05:00","mm:ss"),segundo:o&&void 0!==o.primeiro?N()(o.segundo,"YYYY-MM-DDTHH:mm:ssZ"):null}})).filter((function(e){return Array.isArray(e.horarios)}))}function ie(e,t,a,n){var r=n.format("mm:ss").split(":"),o=Object(s.a)(r,2),i=o[0],m=o[1],u=t.split(":"),l=Object(s.a)(u,2),h=l[0],c=l[1],p=parseInt("".concat(h).concat(c))>=parseInt("".concat(e.getHours()).concat(e.getMinutes()))?e.getDate():e.getDate()+1,d=new Date(e.getFullYear(),e.getMonth(),p,h,c),g=d.getDay()+1;if(void 0!==a&&a!==g)return null;var f=60*parseInt(i)+parseInt(m)+q;return N()(d).subtract(f,"seconds")._d}function me(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];for(var r in n.horarios){var o=n.evento,i=n.horarios[r],m=new Date;if(null!==n.primeiro&&n.primeiro.isValid()){var s=ie(m,i,n.diasSemana[r],n.primeiro);null!==s&&s>=m&&t.push([o,s,n.primeiro.format("mm:ss")])}if(null!==n.segundo&&n.segundo.isValid()){var u=ie(m,i,n.diasSemana[r],n.segundo);null!==u&&u>=m&&t.push([o,u,n.segundo.format("mm:ss")])}}}return Object(R.sortBy)(t,(function(e){return e[1]}))}function se(e){var t;u(e),t=e,localStorage.setItem("alerts",JSON.stringify(t))}Object(Y.a)((function(){var e=Object(m.a)(_),a=e.length,n=function(a){var n=_[a],r=new Date,o=Object(s.a)(n,3),i=o[0],m=o[1],u=o[2];if(!(m<=r))return"break";e.shift();var h=new Notification(t,{body:"".concat(i," em ").concat(u),icon:l.a});x.hasOwnProperty(i)&&h.addEventListener("click",(function(e){e.preventDefault(),window.open(x[i],"_blank")}))};for(var r in e){if("break"===n(r))break}if(e.length<a&&e.length>3)$(e);else if(e.length<=3){var o=me(i);$(o)}}),L?5e3:null),Object(n.useEffect)((function(){return B(0===i.length),function(){}}),[i]),Object(n.useEffect)((function(){return H()("https://megamu.net/events.js",(function(e,t){e?re("error","Erro ao carregar o tempo dos eventos","N\xe3o foi poss\xedvel carregar o tempo dos eventos"):se(oe(window.eventsTime))})),function(){}}),[]);var ue=Object(n.useMemo)((function(){return _.slice(0,3)}),[_]);return r.a.createElement(h.a,null,r.a.createElement(Q,{style:{backgroundColor:"#001529"}},r.a.createElement(P.a,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"description",content:t})),r.a.createElement("div",{className:"logo"},t,r.a.createElement("sup",null,"(beta)")),r.a.createElement(g.a,{mode:"horizontal",theme:"dark",style:{float:"right"}},r.a.createElement(g.a.Item,{key:"1"},r.a.createElement("a",{href:"http://megamu.net/py0y",target:"_blank",rel:"noopener noreferrer"},"MEGAMU")))),r.a.createElement(h.a,null,r.a.createElement(W,{width:200,className:"site-layout-background"},r.a.createElement(g.a,{mode:"inline",defaultSelectedKeys:["1"],style:{height:"100%",borderRight:0}},r.a.createElement(g.a.Item,{key:"1",icon:r.a.createElement(S.a,null)},"Notifica\xe7\xf5es"),r.a.createElement(g.a.Item,{key:"2",icon:r.a.createElement(A.a,null),disabled:!0,title:"Em Breve"},"Configura\xe7\xf5es"))),r.a.createElement(h.a,{style:{padding:"0 24px 24px"}},r.a.createElement(f.a,{style:{margin:"16px 0"}},r.a.createElement(f.a.Item,null,"Notifica\xe7\xf5es")),r.a.createElement(T,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},r.a.createElement("div",{className:"contentOptionsBar",ref:ee},r.a.createElement(v.a,{offsetTop:0},r.a.createElement(g.a,{mode:"horizontal",selectable:!1,style:{height:"100%",borderRight:0}},r.a.createElement(g.a.Item,{key:"1",onClick:function(){return L?function(){"granted"===Notification.permission&&new Notification(t,{body:"Voc\xea parou de receber notifica\xe7\xf5es",icon:l.a,tag:"event-stop"});F(!1)}():(te(),void Notification.requestPermission((function(e){if("denied"!==e){var t=me(i);$(t),F(!0)}else re("error","Permiss\xe3o de notifica\xe7\xf5es","Voc\xea n\xe3o permitiu as notifica\xe7\xf5es desktop")})))},icon:L?r.a.createElement(y.a,null):r.a.createElement(k.a,null)},L?"Parar":"Iniciar"),r.a.createElement(g.a.SubMenu,{title:"Op\xe7\xf5es",icon:r.a.createElement(C.a,null),disabled:L},r.a.createElement(g.a.Item,{icon:r.a.createElement(I.a,null),onClick:function(){se(i.map((function(e){return e.primeiro=N()("05:00","mm:ss"),e.segundo=null,e})))}},"Restaurar padr\xe3o"),r.a.createElement(g.a.Item,{icon:r.a.createElement(M.a,null),onClick:function(){se(i.map((function(e){return e.primeiro=null,e.segundo=null,e})))}},"Limpar todos"))))),L&&r.a.createElement("div",{className:"nextEvent"},r.a.createElement(E.a,{gutter:16},ue.map((function(e,t){var a="".concat(e[0],"-").concat(e[1].toString());return r.a.createElement(w.a,{span:8,key:t},r.a.createElement(b.a,{message:x.hasOwnProperty(e[0])?r.a.createElement("a",{href:x[e[0]]},e[0]):e[0],description:r.a.createElement(j.a,{key:a,date:e[1],intervalDelay:0,precision:3,renderer:function(t){var a=t.hours,n=t.minutes,o=t.seconds;return t.completed?r.a.createElement("div",null,"Agora!"):r.a.createElement("div",null,"pr\xf3ximo alerta em"," ",a.toString().padStart(2,"0"),":",n.toString().padStart(2,"0"),":",o.toString().padStart(2,"0")," ","minutos ",r.a.createElement("br",null),N()(e[1]).format("DD/MM/YYYY HH:mm:ss"))}}),type:0===t?"success":"warning"}))})))),r.a.createElement(O.a,{loading:G,className:"event-list",columns:ne,dataSource:i,pagination:!1})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[177,1,2]]]);
//# sourceMappingURL=main.70744f5a.chunk.js.map