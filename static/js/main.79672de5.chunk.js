(this["webpackJsonpmega-notify"]=this["webpackJsonpmega-notify"]||[]).push([[0],{126:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAE7UlEQVRYhc2YW2gcVRiAv3POzE7ul6Ztqk2hBpViaR9KUd/U6ktVROlLVVAUir54KUVUKCiIT4p4oRYURGl9lBK0D/ogCrUSrWi9QCWlpGlpmua22WyyOzvnIjPTJG1Mm2x3c/nZXWbOOfOfb///n/P/54iPb9rEI7WrCa19ca3KPNAgFYb4s/QicapknVfE/nrWhB+diwpDXt7ahvV+zedIbxfWgLUoxHLwJRJISaBqd26V/kMXdfiYequtc19HpvEFY0rgWEa0VBwQWo3n+ze3Cq9d3hU03YvTxGhymeEgNVCNEKAjVkmvUyIpOetQKwDu/+Ly0lj0crv1WuLAVuZVN/1znTHz9M8jXtlAvgIh0D1nsVE+WRxU0IDq7EjHRBpqA9zQKFH/haRJKh+vcyNkPAij5PnFAVQCchM4a/FeegrWt6fQP3YTdn1DsGkzZHzs+QHk9i1k9j4LnoLxPO5wFwxlEa2NYBZu1fIApcTm8jijUc89DrduTNv37Ca47xzhid8Itt1NNNpPsGUXvLIn7S+EiENd6KFhvLZmMAvPA2XGoEstErtobHymuaEOvv4C1dKO+bsHJeshl5/pH8mCtgjlzxuyFQJeIbPjaN0avEPvo6Mc2o6Cn7n22CUBnEse3kFw8F2KDIOKqqKycsBoFsie3TRvuwd38kTFSwxVAbQOPvwM/umZ1ii+OozYsROy4/M9vQSAQQa6j+OeeGambWMHvPky1NdWrL46Mbh1O2N//gTvfXJ1e8avWHV1AKWkhrUU9+2HL7uqonJadVW0lDSeasYP1qCf3gene6uilvIBBRibpqrGupnmhlqMmUDdfgvWlrAPPgn9gzP9TQ1poRdX7GUuiTeUSYTvQd9FGByGS8NJ1hAyAF0ic8dmij1/wKtvw4UBGByB3vMgBXjlx6TQt91/RCEeLTcHOWMRUuCStU4gPJkuOUomFrbDo4jGOkQmk1pdqdQcduHzOPiuvGIhltgSQuCGs9himDSpliZoaQSrQRvwPWRbC3pgCFHSiBof2b46fbYMQMquZpiygEO2t6UTxrfWQulynRd/45pQCLyO9vQ+tnJk0tgtMwbLB5wSPatkurIgmLqOZo8pf5qVsJGbU5LIlkKsSECbwsWXZkEutlOmlkuz/5NxLEifnsKInhfQ4FAyrqJlGuyLzphOcKowwu9hVl4TMHk5YzgVD1H0lsY4HU5Qo0S86i0aXnwulDOGUVuiSfr1cwLGYFJKlMiAizhWGOJMNEkQH48kW2m7aIAmgZRs8AP6tf7tKsAELIZIrCY4E45xMsxRcJp1MoMUAuMcooLV6XriLju4VkkumejoJVN6Y3qmNNYkxF7Xmu5whFOlCZqkxzoVUHDuJM79ICE+Bqu80JtDZJo064e1/mvQRp9KIYpeEmexWeMtIZK+cIxfCqOUHGzwapJ4y1p9YNBGr62Rfr5eqOTPLKaYxJOpRT0vya0exkR0h1n+LU3SKhXtKsOYMz+P2NI7wBF/CU8Or5zJE0LJi2Ge7wsjWOHY4AXxm2QHbHRw3JrXi9jx5vgPLM+pMN7xyaHCOV2gTirapEcR19Nrwr0T1hxtkT66ClvHigD7ojC3WmZQQnDeRAcmndkvhcjKG8vt1QdcJdWdRtA7bvXzfTr8tlV5K+q01Ztw9oOCc8cCZE8gFzNH3IAA/wHaHOgBiFSNZwAAAABJRU5ErkJggg=="},180:function(e,t,a){e.exports=a(323)},185:function(e,t,a){},188:function(e,t,a){},323:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),i=a.n(o),s=(a(185),a(176)),m=a(129),u=a(45),l=a(126),h=a.n(l),c=a(326),p=a(177),d=a(328),f=a(330),g=a(55),v=a(331),E=a(332),w=a(334),b=a(335),O=a(333),k=a(329),y=a(327),A=a(336),S=a(337),C=a(338),I=a(339),M=a(340),j=a(341),D=a(342),N=a(146),U=a(38),H=a.n(U),P=(a(188),a(147)),V=a.n(P),R=a(148);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=localStorage.getItem("config"),n=JSON.parse(a),r=(null===n||void 0===n?void 0:n.hasOwnProperty(e))?n[e]:t;return r}var x=a(151),Q=a(152),T={MEGADROP:"https://megamu.net/forum/showthread.php?tid=7446","Blood Castle":"https://megamu.net/forum/","Chaos Castle":"https://megamu.net/forum/","Devil Square":"https://megamu.net/forum/","Moss Merchant":"https://megamu.net/forum/showthread.php?tid=5190","Skeleton King":"https://megamu.net/forum/showthread.php?tid=1330","Red Dragon":"https://megamu.net/forum/showthread.php?tid=1326","White Wizard":"https://megamu.net/forum/showthread.php?tid=1327","Drag\xe3o Dourado":"https://megamu.net/forum/",Demons:"https://megamu.net/forum/showthread.php?tid=1341","Illusion 50-149rr":"https://megamu.net/forum/showthread.php?tid=9391","Illusion 150-200rr":"https://megamu.net/forum/showthread.php?tid=9391","Dimens. Mirror":"https://megamu.net/forum/showthread.php?tid=6226","Acheron Guardian":"https://megamu.net/forum/showthread.php?tid=7605&highlight=Acheron+Guardian","Egg Event":"https://megamu.net/forum/showthread.php?tid=1329","Tesouro Loren":"https://megamu.net/forum/showthread.php?tid=676","Tesouro Dung":"https://megamu.net/forum/showthread.php?tid=676","Ataque Zumbi":"https://megamu.net/forum/showthread.php?tid=719","Invoca\xe7\xe3o de Boss":"https://megamu.net/forum/showthread.php?tid=995","Regis. de Signs":"https://megamu.net/forum/","Castle Siege":"https://megamu.net/forum/showthread.php?tid=5113",Kundun:"https://megamu.net/forum/showthread.php?tid=1334",Erohim:"https://megamu.net/forum/showthread.php?tid=1333",Medusa:"https://megamu.net/forum/showthread.php?tid=1336",Crywolf:"https://megamu.net/forum/showthread.php?tid=2300","CTF Devias":"https://megamu.net/forum/showthread.php?tid=1272","CTF Elbeland":"https://megamu.net/forum/showthread.php?tid=1272","CTF Atlans":"https://megamu.net/forum/showthread.php?tid=1272","CTF Sv4":"https://megamu.net/forum/showthread.php?tid=1272","CTF Sv5":"https://megamu.net/forum/showthread.php?tid=1272","Quiz MEGAMU":"https://megamu.net/forum","Sanguin\xe1rio":"https://megamu.net/forum/showthread.php?tid=1781","Sanguin\xe1rio FULL":"https://megamu.net/forum/showthread.php?tid=1781","Sanguin\xe1rio Sv5":"https://megamu.net/forum/showthread.php?tid=1781","CP Devias":"https://megamu.net/forum/showthread.php?tid=2660","CP Elbeland":"https://megamu.net/forum/showthread.php?tid=2660","CP Atlans":"https://megamu.net/forum/showthread.php?tid=2660","CP Sv4":"https://megamu.net/forum/showthread.php?tid=2660","CP Sv5":"https://megamu.net/forum/showthread.php?tid=2660",Survives:"https://megamu.net/forum/showthread.php?tid=6423","Survive All":"https://megamu.net/forum/showthread.php?tid=6423","Golden Evolution":"https://megamu.net/forum/showthread.php?tid=5990","Dark Evolution":"https://megamu.net/forum/showthread.php?tid=5990","Uruk Attack":"https://megamu.net/forum/showthread.php?tid=5871","Chaos Invasion":"https://megamu.net/forum/showthread.php?tid=6170","Chickens Escape":"https://megamu.net/forum/showthread.php?tid=8073","Lost Horse":"https://megamu.net/forum/showthread.php?tid=8074","Battle Royale":"https://megamu.net/forum/showthread.php?tid=8369"},W=a(153),F=a.n(W),G=c.a.Header,B=c.a.Content,J=c.a.Sider;var K=function(){var e=Object(n.useState)("MEGA Notify"),t=Object(u.a)(e,1)[0],a=Object(n.useState)([]),o=Object(u.a)(a,2),i=o[0],l=o[1],U=Object(n.useState)(!0),P=Object(u.a)(U,2),W=P[0],K=P[1],L=Object(n.useState)(!1),z=Object(u.a)(L,2),q=z[0],Z=z[1],X=Object(n.useState)(Y("timeOffset",90)),_=Object(u.a)(X,1)[0],$=Object(n.useState)(null),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(u.a)(ne,2),oe=re[0],ie=re[1],se=Object(n.useRef)(null),me=function(){return e=se,window.scrollTo(0,e.current.offsetTop);var e},ue=function(e,t,a){return function(t){var n=Object(m.a)(i);n[a][e]=t,fe(n)}},le=[{title:"Evento",dataIndex:"evento",onCell:function(){return{style:{whiteSpace:"nowrap",maxWidth:180}}},render:function(e,t){return T.hasOwnProperty(e)?r.a.createElement("a",{href:T[e],target:"_blank",rel:"noopener noreferrer"},e):e}},{title:"Hor\xe1rios",dataIndex:"horarios",render:function(e,t,a){return r.a.createElement("p",null,0===t.diasSemana.length&&e.map((function(e,t){return r.a.createElement(p.a,{color:"blue",key:"t".concat(e,"_").concat(t)},e)})),r.a.createElement("br",null),t.diasSemana&&t.diasSemana.map((function(t,a){return r.a.createElement(p.a,{color:"green",key:"s".concat(t,"_").concat(a)},["DOM","SEG","TER","QUA","QUI","SEX","SAB"][t-1]||""," ",e[a])})))}},{title:"Primeiro alerta (mm:ss)",dataIndex:"primeiro",render:function(e,t,a){return r.a.createElement(d.a,{defaultValue:e&&e.isValid()?e:null,value:e&&e.isValid()?e:null,format:"mm:ss",onChange:ue("primeiro",0,a),secondStep:10,style:{minWidth:90},disabled:q})}},{title:"Segundo alerta (mm:ss)",dataIndex:"segundo",render:function(e,t,a){return r.a.createElement(d.a,{defaultValue:e&&e.isValid()?e:null,value:e&&e.isValid()?e:null,format:"mm:ss",onChange:ue("segundo",0,a),secondStep:10,style:{minWidth:90},disabled:q})}}];function he(e,t,a){f.a[e]({message:t,description:a})}function ce(e){var t=function(){var e=localStorage.getItem("alerts");return e?JSON.parse(e):[]}();return e.map((function(e,a){var n=3===e.length?e[2]:e[1],r=3===e.length?e[1]:[],o=t.filter((function(t){return t.evento===e[0]})).shift();return{key:a.toString(),selected:!0,evento:e[0],horarios:n,diasSemana:r,primeiro:o&&void 0!==o.primeiro?H()(o.primeiro,"YYYY-MM-DDTHH:mm:ssZ"):H()("05:00","mm:ss"),segundo:o&&void 0!==o.primeiro?H()(o.segundo,"YYYY-MM-DDTHH:mm:ssZ"):null}})).filter((function(e){return Array.isArray(e.horarios)}))}function pe(e,t,a,n){var r=n.format("mm:ss").split(":"),o=Object(u.a)(r,2),i=o[0],s=o[1],m=t.split(":"),l=Object(u.a)(m,2),h=l[0],c=l[1],p=parseInt("".concat(h).concat(c))>=parseInt("".concat(e.getHours()).concat(e.getMinutes()))?e.getDate():e.getDate()+1,d=new Date(e.getFullYear(),e.getMonth(),p,h,c),f=d.getDay()+1;if(void 0!==a&&a!==f)return null;var g=60*parseInt(i)+parseInt(s)+_;return H()(d).subtract(g,"seconds")._d}function de(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];for(var r in n.horarios){var o=n.evento,i=n.horarios[r],s=new Date;if(null!==n.primeiro&&n.primeiro.isValid()){var m=pe(s,i,n.diasSemana[r],n.primeiro);null!==m&&m>=s&&t.push([o,m,n.primeiro.format("mm:ss")])}if(null!==n.segundo&&n.segundo.isValid()){var u=pe(s,i,n.diasSemana[r],n.segundo);null!==u&&u>=s&&t.push([o,u,n.segundo.format("mm:ss")])}}}return Object(x.sortBy)(t,(function(e){return e[1]}))}function fe(e){var t;l(e),t=e,localStorage.setItem("alerts",JSON.stringify(t))}function ge(e,t){var a=Math.round(e/1e3,0);return parseFloat((t-a)/t*100).toFixed(2)}function ve(e){var t=e.split(":"),a=Object(u.a)(t,2),n=a[0],r=a[1],o=60*parseFloat(n)+parseFloat(r);return F()(1e3*o,{language:"pt"})}Object(Q.a)((function(){var e=Object(m.a)(oe),a=e.length,n=function(a){var n=oe[a],r=new Date,o=Object(u.a)(n,3),i=o[0],s=o[1],m=o[2];if(!(s<=r))return"break";e.shift();var l=new Notification(t,{body:"".concat(i," em ").concat(ve(m)),icon:h.a});T.hasOwnProperty(i)&&l.addEventListener("click",(function(e){e.preventDefault(),window.open(T[i],"_blank")}))};for(var r in e){if("break"===n(r))break}if(e.length<a&&e.length>6)ie(e);else if(e.length<=6){var o=de(i);ie(o)}}),q?5e3:null),Object(n.useEffect)((function(){return K(0===i.length),function(){}}),[i]),Object(n.useEffect)((function(){return V()("https://megamu.net/events.js",(function(e,t){e?he("error","Erro ao carregar o tempo dos eventos","N\xe3o foi poss\xedvel carregar o tempo dos eventos"):fe(ce(window.eventsTime))})),function(){}}),[]);var Ee=Object(n.useMemo)((function(){return oe.slice(0,6)}),[oe]);return r.a.createElement(c.a,null,r.a.createElement(G,{style:{backgroundColor:"#001529"}},r.a.createElement(R.a,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"description",content:t})),r.a.createElement("div",{className:"logo"},t,r.a.createElement("sup",null,"(beta)")),r.a.createElement(g.a,{mode:"horizontal",theme:"dark",style:{float:"right"}},r.a.createElement(g.a.Item,{key:"1"},r.a.createElement("a",{href:"http://megamu.net/py0y",target:"_blank",rel:"noopener noreferrer"},"MEGAMU")))),r.a.createElement(c.a,null,r.a.createElement(J,{width:200,className:"site-layout-background"},r.a.createElement(g.a,{mode:"inline",defaultSelectedKeys:["1"],style:{height:"100%",borderRight:0}},r.a.createElement(g.a.Item,{key:"1",icon:r.a.createElement(A.a,null)},"Notifica\xe7\xf5es"),r.a.createElement(g.a.Item,{key:"2",icon:r.a.createElement(S.a,null),disabled:!0,title:"Em Breve"},"Configura\xe7\xf5es"))),r.a.createElement(c.a,{style:{padding:"0 24px 24px"}},r.a.createElement(v.a,{style:{margin:"16px 0"}},r.a.createElement(v.a.Item,null,"Notifica\xe7\xf5es")),r.a.createElement(B,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},r.a.createElement("div",{className:"contentOptionsBar",ref:se},r.a.createElement(E.a,{offsetTop:0},r.a.createElement(g.a,{mode:"horizontal",selectable:!1,style:{height:"100%",borderRight:0}},r.a.createElement(g.a.Item,{key:"1",onClick:function(){return q?function(){"granted"===Notification.permission&&new Notification(t,{body:"Voc\xea parou de receber notifica\xe7\xf5es",icon:h.a,tag:"event-stop"});Z(!1)}():(me(),void Notification.requestPermission((function(e){if("denied"!==e){var t=de(i);ie(t),Z(!0),ae(Date.now())}else he("error","Permiss\xe3o de notifica\xe7\xf5es","Voc\xea n\xe3o permitiu as notifica\xe7\xf5es desktop")})))},icon:q?r.a.createElement(C.a,null):r.a.createElement(I.a,null)},q?"Parar":"Iniciar"),r.a.createElement(g.a.SubMenu,{title:"Op\xe7\xf5es",icon:r.a.createElement(M.a,null),disabled:q},r.a.createElement(g.a.Item,{icon:r.a.createElement(j.a,null),onClick:function(){fe(i.map((function(e){return e.primeiro=H()("05:00","mm:ss"),e.segundo=null,e})))}},"Restaurar padr\xe3o"),r.a.createElement(g.a.Item,{icon:r.a.createElement(D.a,null),onClick:function(){fe(i.map((function(e){return e.primeiro=null,e.segundo=null,e})))}},"Limpar todos"))))),q&&r.a.createElement("div",{className:"nextEvent"},r.a.createElement(w.a,{gutter:16},Ee.map((function(e,t){var a="".concat(e[0],"-").concat(e[1].toString()),n=H()(e[1]),o=H()(te),i=n.diff(o,"seconds");return r.a.createElement(b.a,{span:4,key:t},r.a.createElement(O.a,{message:T.hasOwnProperty(e[0])?r.a.createElement("a",{href:T[e[0]],target:"_blank",rel:"noopener noreferrer"},e[0]):e[0],description:r.a.createElement(N.a,{key:a,date:e[1],intervalDelay:500,precision:3,renderer:function(e){e.hours,e.minutes,e.seconds;var t=e.completed,a=Object(s.a)(e,["hours","minutes","seconds","completed"]);return r.a.createElement("div",null,n.format("DD/MM/YYYY HH:mm:ss"),r.a.createElement("br",null),r.a.createElement(k.a,{percent:t?100:ge(a.total,i),size:"small",status:"active",showInfo:!1}))}}),type:0===t?"success":"warning"}))})))),r.a.createElement(y.a,{loading:W,className:"event-list",columns:le,dataSource:i,pagination:!1})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.79672de5.chunk.js.map